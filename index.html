<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual: HTML a APK con Cordova</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Configuración de la fuente Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
        }
    </style>
</head>
<body class="min-h-screen p-4 sm:p-8">

    <div class="max-w-4xl mx-auto bg-white shadow-xl rounded-2xl p-6 md:p-10">

        <!-- Encabezado y Barra de Progreso -->
        <header class="mb-8">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-blue-800 mb-2">
                HTML a APK con Cordova
            </h1>
            <p class="text-gray-600 mb-6">
                Guía paso a paso para convertir archivos web en una aplicación de Android funcional.
            </p>

            <!-- Barra de Progreso -->
            <div class="w-full bg-gray-200 rounded-full h-3">
                <div id="progressBar" class="bg-blue-600 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
            </div>
            <p id="progressText" class="text-sm text-gray-500 mt-2">Progreso: 0/3 Fases completadas</p>
        </header>

        <!-- Contenido del Manual -->
        <div class="space-y-12">

            <!-- FASE 1: Instalación y Verificación de Herramientas -->
            <section id="phase-1" class="phase-card p-6 border-2 border-gray-100 rounded-xl transition duration-300 hover:shadow-md">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 flex justify-between items-center">
                    <span>1. Instalación y Verificación de Herramientas</span>
                    <button onclick="togglePhaseCompletion('phase-1', 1)" class="phase-toggle bg-green-100 text-green-700 text-sm font-semibold px-3 py-1 rounded-full hover:bg-green-200 transition">Marcar como Completado</button>
                </h2>
                <div class="text-gray-700 space-y-4">
                    <p class="mb-2">Antes de empezar, asegúrese de tener instalados los siguientes programas:</p>
                    
                    <!-- Botones de Instalación -->
                    <div class="flex flex-wrap gap-4 pt-2 pb-4">
                        <a href="https://nodejs.org/es/download" target="_blank" class="flex-1 min-w-[150px] text-center bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition shadow-md">
                            Instalar Node.js
                        </a>
                        <a href="https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html" target="_blank" class="flex-1 min-w-[150px] text-center bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition shadow-md">
                            Instalar Java (JDK 17+)
                        </a>
                        <a href="https://developer.android.com/studio" target="_blank" class="flex-1 min-w-[150px] text-center bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition shadow-md">
                            Descargar Android Studio
                        </a>
                    </div>
                    
                    <ul class="list-disc list-inside ml-4 space-y-1">
                        <li><strong>Node.js:</strong> Para NPM y Cordova.</li>
                        <li><strong>Java Development Kit (JDK) 17 o superior:</strong> Para la construcción de Android.</li>
                        <li><strong>Android Studio:</strong> Para obtener las herramientas de desarrollo (SDK).</li>
                        <li><strong>TurboWarp (Opcional):</strong> Para exportar archivos SB3 a HTML.</li>
                    </ul>

                    <h3 class="font-semibold mt-4 text-lg">Instalar Cordova Globalmente</h3>
                    <p class="bg-gray-50 p-3 rounded-lg border border-gray-200 overflow-x-auto">
                        Abra la **Línea de Comandos (CMD)** o **PowerShell** y ejecute:
                    </p>
                    <pre class="bg-gray-800 text-white p-3 rounded-lg overflow-x-auto text-sm">
java -version
npm -version
npm install -g cordova
cordova -version
                    </pre>
                </div>
            </section>

            <!-- FASE 2: Creación y Configuración del Proyecto Cordova -->
            <section id="phase-2" class="phase-card p-6 border-2 border-gray-100 rounded-xl transition duration-300 hover:shadow-md">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 flex justify-between items-center">
                    <span>2. Creación y Configuración del Proyecto Cordova</span>
                    <button onclick="togglePhaseCompletion('phase-2', 2)" class="phase-toggle bg-green-100 text-green-700 text-sm font-semibold px-3 py-1 rounded-full hover:bg-green-200 transition">Marcar como Completado</button>
                </h2>
                <div class="text-gray-700 space-y-4">
                    <h3 class="font-semibold text-lg">Crear el Proyecto Base</h3>
                    <pre class="bg-gray-800 text-white p-3 rounded-lg overflow-x-auto text-sm">
cd Desktop
cordova create ejemplo com.company.ejemplo ejemplo
cd ejemplo
                    </pre>
                    
                    <h3 class="font-semibold text-lg">Agregar la Plataforma Android</h3>
                    <pre class="bg-gray-800 text-white p-3 rounded-lg overflow-x-auto text-sm">
cordova platform add android
                    </pre>

                    <h3 class="font-semibold text-lg">Reemplazar Contenido HTML</h3>
                    <p>Copie su <strong>contenido web</strong> (incluyendo <code>index.html</code>, CSS, JS, imágenes) y <strong>reemplace</strong> el contenido por defecto dentro de la carpeta <code>ejemplo/www</code>.</p>
                    
                    <h3 class="font-semibold text-lg">Configurar el Archivo <code>config.xml</code></h3>
                    <p>Edite <code>ejemplo/config.xml</code> para cambiar el <strong>nombre</strong>, la <strong>orientación</strong> y agregar un <strong>ícono</strong> personalizado, o configurar otras preferencias como pantalla completa.</p>
                    <pre class="bg-gray-800 text-white p-3 rounded-lg overflow-x-auto text-sm">
&lt;widget name="ejemplo" ...&gt;
    &lt;preference name="Orientation" value="landscape" /&gt;
    &lt;preference name="Fullscreen" value="true" /&gt;
    &lt;icon src="ubicacion/de/su/icono.png" /&gt;
&lt;/widget&gt;
                    </pre>
                </div>
            </section>

            <!-- FASE 3: Generación del APK -->
            <section id="phase-3" class="phase-card p-6 border-2 border-gray-100 rounded-xl transition duration-300 hover:shadow-md">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 flex justify-between items-center">
                    <span>3. Generación y Firma del APK</span>
                    <button onclick="togglePhaseCompletion('phase-3', 3)" class="phase-toggle bg-green-100 text-green-700 text-sm font-semibold px-3 py-1 rounded-full hover:bg-green-200 transition">Marcar como Completado</button>
                </h2>
                <div class="text-gray-700 space-y-4">
                    <h3 class="font-semibold text-lg">Generar APK de Debug (Opcional)</h3>
                    <pre class="bg-gray-800 text-white p-3 rounded-lg overflow-x-auto text-sm">
cordova build android
                    </pre>
                    <p>El APK de debug se encuentra en: <code>platforms/android/app/build/outputs/apk/debug/app-debug.apk</code></p>
                    
                    <h3 class="font-semibold text-lg">Generar APK de Release (Producción)</h3>
                    <pre class="bg-gray-800 text-white p-3 rounded-lg overflow-x-auto text-sm">
cordova build android --release -- --packageType=apk
                    </pre>
                    
                    <h3 class="font-semibold text-lg">Firmar el APK (OBLIGATORIO)</h3>
                    <ol class="list-decimal list-inside ml-4 space-y-3">
                        <li><strong>Crear el Keystore:</strong>
                            <pre class="bg-gray-800 text-white p-3 rounded-lg overflow-x-auto text-sm">
keytool -genkey -v -keystore ejemplo-key.keystore -alias ejemplo-alias -keyalg RSA -keysize 2048 -validity 10000
                            </pre>
                            *Guarde el archivo <code>ejemplo-key.keystore</code> de forma segura.</li>
                        <li><strong>Firmar el APK sin firmar:</strong>
                            <pre class="bg-gray-800 text-white p-3 rounded-lg overflow-x-auto text-sm">
jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore ejemplo-key.keystore app-release-unsigned.apk ejemplo-alias
                            </pre>
                            *El APK firmado final es <code>app-release-unsigned.apk</code> (ubicado en la carpeta <code>release</code>).</li>
                    </ol>
                </div>
            </section>
        </div>

        <footer class="mt-10 pt-6 border-t border-gray-200 text-center text-sm text-gray-500">
            <p>Hecho con Cordova, HTML y Tailwind CSS.</p>
        </footer>
    </div>

    <script>
        // Lógica para el seguimiento del progreso
        const totalPhases = 3;
        let completedPhases = 0;
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        
        // Estado de cada fase
        const phaseState = {
            'phase-1': false,
            'phase-2': false,
            'phase-3': false
        };

        function updateProgress() {
            completedPhases = Object.values(phaseState).filter(isCompleted => isCompleted).length;
            const percentage = (completedPhases / totalPhases) * 100;
            progressBar.style.width = `${percentage}%`;
            progressText.textContent = `Progreso: ${completedPhases}/${totalPhases} Fases completadas`;
        }

        function togglePhaseCompletion(phaseId, phaseNumber) {
            const phaseElement = document.getElementById(phaseId);
            const toggleButton = phaseElement.querySelector('.phase-toggle');

            if (phaseState[phaseId]) {
                // Marcar como NO completado
                phaseState[phaseId] = false;
                phaseElement.classList.remove('border-green-500', 'bg-green-50');
                phaseElement.classList.add('border-gray-100');
                toggleButton.textContent = 'Marcar como Completado';
                toggleButton.classList.remove('bg-red-100', 'text-red-700', 'hover:bg-red-200');
                toggleButton.classList.add('bg-green-100', 'text-green-700', 'hover:bg-green-200');
            } else {
                // Marcar como completado
                phaseState[phaseId] = true;
                phaseElement.classList.remove('border-gray-100');
                phaseElement.classList.add('border-green-500', 'bg-green-50');
                toggleButton.textContent = 'Completado';
                toggleButton.classList.remove('bg-green-100', 'text-green-700', 'hover:bg-green-200');
                toggleButton.classList.add('bg-red-100', 'text-red-700', 'hover:bg-red-200');
            }
            updateProgress();
        }

        // Inicializar
        updateProgress();
    </script>
</body>
</html>
